@startuml
autonumber

actor "SpecialistDoctor" as Spec

participant ":CreateReportUI" as UI
participant ":CreateReportController" as CRC
participant ":Company" as COM
participant ":CreateReport" as CR
participant "TestStore: testIdStore" as TS
participant "rep : Report" as reporttt

activate Spec

Spec -> UI : asks to access the tests already made

activate UI

UI --> Spec : shows the tests and asks to choose one to make the report (test)

activate CRC

UI -> CRC : selectTestId(testID)


CRC -> TS : tID = getTestID(testID)

activate TS

deactivate TS

create reporttt

CRC -> reporttt : addT = addTestID(tID)

CRC -> UI : ok

deactivate CRC

Spec <-- UI : shows testID and chemical analysis results and asks to confirm

deactivate UI



Spec -> UI : writes a diagnosis for that test

activate UI


UI -> CRC : createReport(diagnosis)

activate CRC


CRC -> COM : rep = createReport(diagnosis)

activate COM

COM -> reporttt : create(diagnosis)

activate reporttt

deactivate reporttt

CRC -> COM : validateReport(rep)

deactivate COM

deactivate CRC

UI --> Spec : shows report and asks to confirm

deactivate UI

Spec -> UI : confirms report

activate UI

UI -> CRC : saveReport()

activate CRC

CRC -> COM : saveReport(rep)

activate COM

COM -> COM : validateReport(rep)

activate COM

deactivate COM

COM -> COM : addReport(rep)

activate COM

deactivate COM

deactivate COM

deactivate CRC

UI --> Spec : informs success
@enduml








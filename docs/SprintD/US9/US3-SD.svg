<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1000px" preserveAspectRatio="none" style="width:2673px;height:1000px;" version="1.1" viewBox="0 0 2673 1000" width="2673px" zoomAndPan="magnify"><defs><filter height="300%" id="f1cvw7v93cl7ze" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="808.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58.5" y="98.7999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="777.8" style="stroke:#A80036;stroke-width:1.0;" width="10" x="737.5" y="120.3999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="652.2001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="931.5" y="254.9999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="424" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1164.5" y="483.2"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="379.4" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373.5" y="527.8"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="808.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1450" y="98.7999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="808.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1775" y="98.7999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="117" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2279" y="790.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="63" x2="63" y1="88.7999" y2="916.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="742" x2="742" y1="88.7999" y2="916.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="936" x2="936" y1="161.2999" y2="916.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1169.5" x2="1169.5" y1="88.7999" y2="916.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1378.5" x2="1378.5" y1="529.1" y2="916.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1454.5" x2="1454.5" y1="88.7999" y2="916.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1779.5" x2="1779.5" y1="88.7999" y2="916.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2284" x2="2284" y1="791.5" y2="916.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="5" y="85.0059">ReceptionistActor</text><ellipse cx="63.5" cy="15" fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M63.5,23 L63.5,50 M50.5,31 L76.5,31 M63.5,50 L50.5,65 M63.5,50 L76.5,65 " fill="none" filter="url(#f1cvw7v93cl7ze)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="5" y="928.2059">ReceptionistActor</text><ellipse cx="63.5" cy="941.9999" fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M63.5,949.9999 L63.5,976.9999 M50.5,957.9999 L76.5,957.9999 M63.5,976.9999 L50.5,991.9999 M63.5,976.9999 L76.5,991.9999 " fill="none" filter="url(#f1cvw7v93cl7ze)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="117" x="682" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="689" y="73.0059">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="117" x="682" y="915.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="689" y="935.2059">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="165" x="852" y="915.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="859" y="935.2059">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1121.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1128.5" y="73.0059">Receptionist</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="92" x="1121.5" y="915.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1128.5" y="935.2059">Receptionist</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1351.5" y="915.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="1358.5" y="935.2059">Client</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1415.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1422.5" y="73.0059">Company</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1415.5" y="915.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1422.5" y="935.2059">Company</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1732.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1739.5" y="73.0059">AuthFacade</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1732.5" y="915.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1739.5" y="935.2059">AuthFacade</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="90" x="2237" y="915.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="2244" y="935.2059">MailAdapter</text><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="808.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="58.5" y="98.7999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="777.8" style="stroke:#A80036;stroke-width:1.0;" width="10" x="737.5" y="120.3999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="652.2001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="931.5" y="254.9999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="424" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1164.5" y="483.2"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="379.4" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1373.5" y="527.8"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="808.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1450" y="98.7999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="808.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1775" y="98.7999"/><rect fill="#FFFFFF" filter="url(#f1cvw7v93cl7ze)" height="117" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2279" y="790.2"/><polygon fill="#A80036" points="725.5,116.3999,735.5,120.3999,725.5,124.3999,729.5,120.3999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="68.5" x2="731.5" y1="120.3999" y2="120.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="75.5" y="114.8769">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="86.5" y="114.8769">initiates the registration of a client</text><polygon fill="#A80036" points="840,146,850,150,840,154,844,150" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="747.5" x2="846" y1="150" y2="150"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="754.5" y="144.477">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="765.5" y="144.477">create</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="165" x="852" y="128.3999"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="859" y="148.4059">RegisterClientController</text><polygon fill="#A80036" points="79.5,191.7999,69.5,195.7999,79.5,199.7999,75.5,195.7999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="73.5" x2="736.5" y1="195.7999" y2="195.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="85.5" y="190.2769">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="634" x="96.5" y="190.2769">requests the data required (name, CCNumber, NHSNumber, birthdate, sex, TINNumber, phoneNumber, email)</text><polygon fill="#A80036" points="725.5,221.3999,735.5,225.3999,725.5,229.3999,729.5,225.3999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="68.5" x2="731.5" y1="225.3999" y2="225.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="75.5" y="219.8769">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="86.5" y="219.8769">inserts the requested data</text><polygon fill="#A80036" points="919.5,250.9999,929.5,254.9999,919.5,258.9999,923.5,254.9999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="747.5" x2="925.5" y1="254.9999" y2="254.9999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="754.5" y="249.4769">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="765.5" y="249.4769">createClientDTO( ... )</text><line style="stroke:#A80036;stroke-width:1.0;" x1="941.5" x2="983.5" y1="284.5999" y2="284.5999"/><line style="stroke:#A80036;stroke-width:1.0;" x1="983.5" x2="983.5" y1="284.5999" y2="297.5999"/><line style="stroke:#A80036;stroke-width:1.0;" x1="942.5" x2="983.5" y1="297.5999" y2="297.5999"/><polygon fill="#A80036" points="952.5,293.5999,942.5,297.5999,952.5,301.5999,948.5,297.5999" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="948.5" y="279.0769">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="959.5" y="279.0769">clientDTO = createClientDTO( ... )</text><polygon fill="#A80036" points="758.5,323.1999,748.5,327.1999,758.5,331.1999,754.5,327.1999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="752.5" x2="930.5" y1="327.1999" y2="327.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="764.5" y="321.6769">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="775.5" y="321.6769">show(clientDTO)</text><polygon fill="#A80036" points="79.5,352.7999,69.5,356.7999,79.5,360.7999,75.5,356.7999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="73.5" x2="736.5" y1="356.7999" y2="356.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="85.5" y="351.2769">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="96.5" y="351.2769">shows the data and requests a confirmation</text><polygon fill="#A80036" points="725.5,382.4,735.5,386.4,725.5,390.4,729.5,386.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="68.5" x2="731.5" y1="386.4" y2="386.4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="75.5" y="380.877">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="86.5" y="380.877">confirms the data</text><polygon fill="#A80036" points="919.5,412,929.5,416,919.5,420,923.5,416" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="747.5" x2="925.5" y1="416" y2="416"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="754.5" y="410.477">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="772.5" y="410.477">registerClient(clientDTO)</text><polygon fill="#A80036" points="1438,441.6,1448,445.6,1438,449.6,1442,445.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="941.5" x2="1444" y1="445.6" y2="445.6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="948.5" y="440.077">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="966.5" y="440.077">Receptionist = getReceptionist(getCurrentUserSession())</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1460" x2="1507" y1="470.2" y2="470.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1507" x2="1507" y1="470.2" y2="483.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1466" x2="1507" y1="483.2" y2="483.2"/><polygon fill="#A80036" points="1476,479.2,1466,483.2,1476,487.2,1472,483.2" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1472" y="464.677">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="1490" y="464.677">getReceptionist(getCurrentUserSession().getID())</text><polygon fill="#A80036" points="1339.5,513.8,1349.5,517.8,1339.5,521.8,1343.5,517.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1174.5" x2="1345.5" y1="517.8" y2="517.8"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1181.5" y="512.277">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="1199.5" y="512.277">createClient(clientDTO)</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1351.5" y="496.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="1358.5" y="516.2059">Client</text><polygon fill="#A80036" points="1152.5,559.5999,1162.5,563.5999,1152.5,567.5999,1156.5,563.5999" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="941.5" x2="1158.5" y1="563.5999" y2="563.5999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="948.5" y="558.0769">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="966.5" y="558.0769">client = getClient()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1174.5" x2="1216.5" y1="593.2" y2="593.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1216.5" x2="1216.5" y1="593.2" y2="606.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1175.5" x2="1216.5" y1="606.2" y2="606.2"/><polygon fill="#A80036" points="1185.5,602.2,1175.5,606.2,1185.5,610.2,1181.5,606.2" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1181.5" y="587.677">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1199.5" y="587.677">getClient()</text><polygon fill="#A80036" points="1438,631.8,1448,635.8,1438,639.8,1442,635.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="941.5" x2="1444" y1="635.8" y2="635.8"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="948.5" y="630.277">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="966.5" y="630.277">boolean state = save(client)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1460" x2="1502" y1="665.4" y2="665.4"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1502" x2="1502" y1="665.4" y2="678.4"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1461" x2="1502" y1="678.4" y2="678.4"/><polygon fill="#A80036" points="1471,674.4,1461,678.4,1471,682.4,1467,678.4" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1467" y="659.877">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="1485" y="659.877">save(client)</text><polygon fill="#A80036" points="1763,704,1773,708,1763,712,1767,708" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="941.5" x2="1769" y1="708" y2="708"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="948.5" y="702.477">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="966.5" y="702.477">state = registerUser(ClientDTO)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1785" x2="1827" y1="737.6" y2="737.6"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1827" x2="1827" y1="737.6" y2="750.6"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1786" x2="1827" y1="750.6" y2="750.6"/><polygon fill="#A80036" points="1796,746.6,1786,750.6,1796,754.6,1792,750.6" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1792" y="732.077">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="462" x="1810" y="732.077">addUserWithRole(ClientDTO.name, ClientDTO.email, ClientDTO.name, "Client")</text><polygon fill="#A80036" points="2225,776.2,2235,780.2,2225,784.2,2229,780.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="941.5" x2="2231" y1="780.2" y2="780.2"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="948.5" y="774.677">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="966.5" y="774.677">state = sendCredentials(ClientDTO)</text><rect fill="#FEFECE" filter="url(#f1cvw7v93cl7ze)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="90" x="2237" y="758.6"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="2244" y="778.606">MailAdapter</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2289" x2="2331" y1="826" y2="826"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2331" x2="2331" y1="826" y2="839"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2290" x2="2331" y1="839" y2="839"/><polygon fill="#A80036" points="2300,835,2290,839,2300,843,2296,839" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="2296" y="820.477">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="2314" y="820.477">sendMsg(ClientDTO.email + ClientDTO.ID + ClientDTO.pwd)</text><polygon fill="#A80036" points="758.5,864.6,748.5,868.6,758.5,872.6,754.5,868.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="752.5" x2="930.5" y1="868.6" y2="868.6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="764.5" y="863.077">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="782.5" y="863.077">show(state)</text><polygon fill="#A80036" points="79.5,894.2,69.5,898.2,79.5,902.2,75.5,898.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="73.5" x2="741.5" y1="898.2" y2="898.2"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="85.5" y="892.677">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="103.5" y="892.677">informs operation success</text><!--MD5=[bc1b0ad309dc547ebc1695d556bf7e62]
@startuml
autonumber

actor "ReceptionistActor" as RCP
participant "RegisterClientUI" as ui
participant "RegisterClientController" as controller
participant "Receptionist" as receptionist
participant "Client" as client
participant "Company"
participant "AuthFacade"
activate AuthFacade
activate RCP
activate Company

RCP -> ui : initiates the registration of a client
activate ui
ui -> controller ** : create
ui -> RCP : requests the data required (name, CCNumber, NHSNumber, birthdate, sex, TINNumber, phoneNumber, email)

RCP -> ui : inserts the requested data
ui -> controller : createClientDTO( ... )
activate controller
controller -> controller : clientDTO = createClientDTO( ... )

controller -> ui : show(clientDTO)
ui -> RCP : shows the data and requests a confirmation
RCP -> ui : confirms the data
ui -> controller : registerClient(clientDTO)
' class receptionist is the Creator that instanciates the client
controller -> Company :Receptionist = getReceptionist(getCurrentUserSession())
Company -> Company : getReceptionist(getCurrentUserSession().getID())

activate receptionist
receptionist -> client ** : createClient(clientDTO)
activate client
controller -> receptionist : client = getClient()
receptionist -> receptionist : getClient()
controller -> Company : boolean state = save(client)
Company -> Company : save(client)
controller -> AuthFacade : state = registerUser(ClientDTO)
AuthFacade -> AuthFacade : addUserWithRole(ClientDTO.name, ClientDTO.email, ClientDTO.name, "Client")
controller -> MailAdapter ** : state = sendCredentials(ClientDTO)
activate MailAdapter
MailAdapter -> MailAdapter : sendMsg(ClientDTO.email + ClientDTO.ID + ClientDTO.pwd)
ui <- controller : show(state)
ui -> RCP : informs operation success

deactivate ui

@enduml

@startuml
autonumber

actor "ReceptionistActor" as RCP
participant "RegisterClientUI" as ui
participant "RegisterClientController" as controller
participant "Receptionist" as receptionist
participant "Client" as client
participant "Company"
participant "AuthFacade"
activate AuthFacade
activate RCP
activate Company

RCP -> ui : initiates the registration of a client
activate ui
ui -> controller ** : create
ui -> RCP : requests the data required (name, CCNumber, NHSNumber, birthdate, sex, TINNumber, phoneNumber, email)

RCP -> ui : inserts the requested data
ui -> controller : createClientDTO( ... )
activate controller
controller -> controller : clientDTO = createClientDTO( ... )

controller -> ui : show(clientDTO)
ui -> RCP : shows the data and requests a confirmation
RCP -> ui : confirms the data
ui -> controller : registerClient(clientDTO)
controller -> Company :Receptionist = getReceptionist(getCurrentUserSession())
Company -> Company : getReceptionist(getCurrentUserSession().getID())

activate receptionist
receptionist -> client ** : createClient(clientDTO)
activate client
controller -> receptionist : client = getClient()
receptionist -> receptionist : getClient()
controller -> Company : boolean state = save(client)
Company -> Company : save(client)
controller -> AuthFacade : state = registerUser(ClientDTO)
AuthFacade -> AuthFacade : addUserWithRole(ClientDTO.name, ClientDTO.email, ClientDTO.name, "Client")
controller -> MailAdapter ** : state = sendCredentials(ClientDTO)
activate MailAdapter
MailAdapter -> MailAdapter : sendMsg(ClientDTO.email + ClientDTO.ID + ClientDTO.pwd)
ui <- controller : show(state)
ui -> RCP : informs operation success

deactivate ui

@enduml

PlantUML version 1.2020.23(Sun Dec 13 19:14:58 WET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>